"use strict";(self.webpackChunksocial_network_app=self.webpackChunksocial_network_app||[]).push([[605],{9605:function(t,s,e){e.r(s),e.d(s,{default:function(){return F},withRouter:function(){return D}});var n=e(5671),o=e(3144),r=e(136),i=e(516),u=e(8683),a=e(2791),c="Post_item__IcWoY",l=e(184),d=function(t){return(0,l.jsxs)("div",{className:c,children:[(0,l.jsx)("img",{src:"https://photosfile.com/wp-content/uploads/2022/06/Girl-DP-1.jpg",alt:""}),t.message,(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{children:"like"})," ",(0,l.jsx)("span",{children:t.likesCount})]})]})},h=e(6139),p=e(704),f=e(5304),j=e(8323),x=(0,f.DT)(20),v=(0,p.Z)({form:"profileAddNewPostText"})((function(t){return(0,l.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,l.jsx)("div",{children:(0,l.jsx)(h.Z,{component:j.gx,name:"newPostText",validate:[f.lp,x],placeholder:"enter text",id:"",cols:"30",rows:"5"})}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{children:"Add post"})})]})})),m=a.memo((function(t){console.log("render");var s=t.posts.map((function(t){return(0,l.jsx)(d,{message:t.post,likesCount:t.likesCount},t.id)}));return(0,l.jsxs)("div",{children:["my post",(0,l.jsx)(v,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,l.jsx)("div",{className:"posts",children:s})]})})),k=e(8105),b=e(8687),g=(0,b.$j)((function(t){return{posts:t.contentPage.posts,newPostText:t.contentPage.newPostText}}),(function(t){return{addPost:function(s){var e=(0,k.Wl)(s);t(e)}}}))(m),P=e(9439),w="ContentInfo_photo__hhV5o",S=e(5714),T=function(t){var s=(0,a.useState)(!1),e=(0,P.Z)(s,2),n=e[0],o=e[1],r=(0,a.useState)(t.status),i=(0,P.Z)(r,2),u=i[0],c=i[1];(0,a.useEffect)((function(){c(t.status)}),[t.status]);return(0,l.jsxs)(l.Fragment,{children:[!n&&(0,l.jsx)("div",{children:(0,l.jsx)("span",{onDoubleClick:function(){o(!0)},children:t.status||"------"})}),n&&(0,l.jsx)("div",{children:(0,l.jsx)("input",{onChange:function(t){c(t.currentTarget.value)},autoFocus:!0,onBlur:function(){o(!1),t.updateStatusThunk(u)},value:u})})]})},Z=e(8811),y=function(t){var s=t.handleSubmit,e=t.profile,n=t.error;return(0,l.jsxs)("form",{onSubmit:s,children:[(0,l.jsx)("div",{children:(0,l.jsx)("button",{children:"Save"})}),n&&(0,l.jsx)("div",{className:Z.Z.formSummaryError,children:n}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"NAME:"})," ",(0,j.Gr)("Name","fullName",[],j.II)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Looking for a job:"})," ",(0,j.Gr)("","lookingForAJob",[],j.II,{type:"checkbox"})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"My professional skills:"}),(0,j.Gr)("My professional skills","lookingForAJobDescription",[],j.gx)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"About me:"}),(0,j.Gr)("About me","aboutMe",[],j.gx)]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Contacts:"})," ",Object.keys(e.contacts).map((function(t){return(0,l.jsx)("div",{children:(0,l.jsxs)("b",{children:[t,": ",(0,j.Gr)(t,"contacts."+t,[],j.II)]})},t)}))]})]})},C=function(t){var s=t.contactTitle,e=t.contactValue;return(0,l.jsxs)("div",{children:[(0,l.jsxs)("b",{children:[s,":"]})," ",e]})},A=function(t){var s=t.profile,e=t.isOwner,n=t.goToEditMode;return Object.keys(s.contacts).map((function(t){console.log("key = "+t),console.log("profile.contacts[key] = "+s.contacts[t])})),(0,l.jsxs)("div",{children:[e&&(0,l.jsx)("div",{children:(0,l.jsx)("button",{onClick:n,children:"Edit"})}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"NAME:"})," ",(0,l.jsx)("span",{children:s.fullName})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Looking for a job:"})," ",s.lookingForAJob?"yes":"no"]}),s.lookingForAJob&&(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"My professional skills:"})," ",s.lookingForAJobDescription]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"About me:"})," ",s.aboutMe]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("b",{children:"Contacts:"})," ",Object.keys(s.contacts).map((function(t){return(0,l.jsx)(C,{contactTitle:t,contactValue:s.contacts[t]},t)}))]})]})},I=(0,p.Z)({form:"editProfile"})(y),O=a.memo((function(t){var s,e=(0,a.useState)(!1),n=(0,P.Z)(e,2),o=n[0],r=n[1];return t.profile?(0,l.jsx)("div",{children:(0,l.jsxs)("div",{children:[(0,l.jsx)("img",{className:w,src:(null===(s=t.profile.photos)||void 0===s?void 0:s.large)||"https://www.nj.com/resizer/zovGSasCaR41h_yUGYHXbVTQW2A=/1280x0/smart/cloudfront-us-east-1.images.arcpublishing.com/advancelocal/SJGKVE5UNVESVCW7BBOHKQCZVE.jpg"}),t.isOwner&&(0,l.jsx)("input",{type:"file",onChange:function(s){s.target.files.length&&t.setPhoto(s.target.files[0])}}),(0,l.jsx)(T,{status:t.status,updateStatusThunk:t.updateStatusThunk}),o?(0,l.jsx)(I,{onSubmit:function(s){t.saveProfile(s),r(!1)},profile:t.profile,isOwner:t.isOwner}):(0,l.jsx)(A,{profile:t.profile,isOwner:t.isOwner,goToEditMode:function(){r(!0)}})]})}):(0,l.jsx)(S.Z,{})})),N=function(t){return(0,l.jsxs)("div",{className:"content",children:[(0,l.jsx)(O,{saveProfile:t.saveProfile,isOwner:t.isOwner,setPhoto:t.setPhoto,profile:t.profile,status:t.status,updateStatusThunk:t.updateStatusThunk}),(0,l.jsx)(g,{})]})},_=e(7689),E=e(1103),M=e(7781);function D(t){return function(s){var e={params:(0,_.UO)()};return(0,l.jsx)(t,(0,u.Z)((0,u.Z)({},s),{},{match:e}))}}var G=function(t){(0,r.Z)(e,t);var s=(0,i.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,o.Z)(e,[{key:"refreshContent",value:function(){var t=this.props.match.params.userId;t||(t=29103),this.props.userProfileThunk(t),this.props.getStatusThunk(t)}},{key:"componentDidMount",value:function(){this.refreshContent()}},{key:"componentDidUpdate",value:function(t,s,e){this.props.match.params.userId!=t.match.params.userId&&this.refreshContent()}},{key:"render",value:function(){return(0,l.jsx)("div",{className:"content",children:(0,l.jsx)(N,(0,u.Z)((0,u.Z)({},this.props),{},{setPhoto:this.props.setPhoto,saveProfile:this.props.saveProfile,isOwner:!this.props.match.params.userId,profile:this.props.profile,status:this.props.status,updateStatusThunk:this.props.updateStatusThunk}))})}}]),e}(a.Component),F=(0,M.qC)((0,b.$j)((function(t){return{profile:t.contentPage.profile,status:t.contentPage.status,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{userProfileThunk:k.qj,getStatusThunk:k.$b,updateStatusThunk:k.dw,setPhoto:k.UI,saveProfile:k.Ii}),E.D,D)(G)},1103:function(t,s,e){e.d(s,{D:function(){return p}});var n=e(8683),o=e(5671),r=e(3144),i=e(136),u=e(516),a=e(2791),c=e(7689),l=e(8687),d=e(184),h=function(t){return{isAuth:t.auth.isAuth}},p=function(t){var s=function(s){(0,i.Z)(a,s);var e=(0,u.Z)(a);function a(){return(0,o.Z)(this,a),e.apply(this,arguments)}return(0,r.Z)(a,[{key:"render",value:function(){return this.props.isAuth?(0,d.jsx)(t,(0,n.Z)({},this.props)):(0,d.jsx)(c.Fg,{to:"/login"})}}]),a}(a.Component);return(0,l.$j)(h)(s)}}}]);
//# sourceMappingURL=605.d1edf247.chunk.js.map